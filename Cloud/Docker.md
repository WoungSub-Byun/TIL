# Docker

## 배경
---
일반적으로 서버를 관리하는 것은 복잡하고 어려운 업무에 속합니다. Ubuntu, Windows, MacOS 등 각기 다른 OS환경이 있고 사용하는 라이브러리나 버전 등 **환경은 매우 다양**합니다.

**DevOps**의 등장과 함께 개발주기가 짧아지며 배포는 더 자주 이루어지고 마이크로서비스 아키텍처가 유행하면서 **프로그램은 더 잘게 쪼개어져 관리는 더 복잡**해집니다. 또한 클라우드의 발전으로 설치해야할 서버가 수백, 수천대에 이르는 복잡한 상황에 처해있습니다.

이와 같이 각기 다른 환경에서 빠르고 신속하게 프로그램을 실행할 수 있도록 나온것이 바로 '**도커(Docker)**'입니다.

## Docker란?
---
### **컨테이너 기반의 오픈소스 가상화 플랫폼**

![dockercontainer](https://subicura.com/assets/article_images/2017-01-19-docker-guide-for-beginners-1/docker-container.png)

- 컨테이너라 하면 배에 싣는 네모난 화물 수송용 박스를 생각할 수 있습니다. 각각의 컨테이너 안에는 다양한 종류의 화물을 넣을 수 있고 트레일러 등의 다양한 운송수단으로 쉽게 옮길 수 있습니다.
- 도커에서 이야기하는 컨테이너도 다양한 프로그램, 실행환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 및 관리를 단순하게 해줍니다. 백엔드 프로그램, DB 서버 등 어떤 프로그램도 컨테이너로 추상화 할 수 있고 AWS, Azure, Google Cloud 등 어디서든 실행할 수 있습니다.

## Docker의 특징

### 컨테이너
---
> 개념
- 격리된 공간에서 프로세스가 동작하는 기술
>> 기존 가상화 방식과의 차이점
>> - 기존 방식 : OS 가상화 (전가상화) ex) VMWare, VirtualBox 등
        -> 여러 OS를 가상화할 수 있고 사용법이 간단하지만 무겁고 느려서 운영환경에서 사용할 수 없습니다.
>> - KVM과 반가상화 방식의 Xen : CPU의 가상화기술(HVM) 
        -> 게스트 OS가 필요하지만 전체 OS를 가상화하는 방식이 아니었기 때문에 전가상화방식에 비해 성능이 향상되었습니다.



전가상화와 반가상화 모두 추가적인 OS를 설치하여 가상화하는 방식이었기 때문에 **성능문제**가 존재했습니다. 이를 개선하기 위해 나온것이 바로 **프로세스를 격리** 하는방식입니다.

- **리눅스 컨테이너**
  - 컨테이너를 통해 **프로세스를 격리**시키는 방식
  - 단순히 프로세스를 격리하기 때문에 **가볍고 빠르게 동작**합니다.
  - **CPU나 메모리는 프로세스가 필요한 만큼만 추가로 사용하기때문에 성능적으로도 거의 손실이 없습니다.**
  - **하나의 서버에 여러개의 컨테이너**를 실행할 수 있습니다.
  - 또한 CPU나 메모리 사용량을 **제한** 할 수 있고 특정 포트와 연결하거나 특정 디렉토리를 사용할 수 있습니다.


### 이미지
---
![dockerimage](https://subicura.com/assets/article_images/2017-01-19-docker-guide-for-beginners-1/docker-image.png)

-  **컨테이너 실행에 필요한 파일과 설정값등을 포함하고 있는 것**
- 즉, 컨테이너는 이미지를 실행한 상태라고 볼 수 있습니다.
- 이미지는 컨테이너를 실행하기 위한 모든 정보를 가지고 있기 때문에 더 이상 의존성 파일을 컴파일하고 이것저것 설치할 필요가 없습니다.
- 누구나 도커 이미지를 [Docker hub](https://hub.docker.com/)에 등록하거나 [Docker Registry](https://docs.docker.com/registry/)를 직접 만들어 관리할 수 있습니다.


### 레이어 저장방식
---

### 이미지 경로
---